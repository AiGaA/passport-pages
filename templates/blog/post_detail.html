{% extends "blog/base.html" %} {% load static %}
<!--This will hide the header content-->
{% block header %} {% endblock %} {% block content %}

<div class="container bg-color-content">
  <div class="row">
    <div class="card col-lg-8 mt-5 mb-3 mx-auto">
      {% if "placeholder" in post.image.url %}
      <img
        src="/static/images/placeholder-img.png"
        class="card-img-top"
        alt="placeholder image"
      />
      {% else %}
      <img src="{{ post.image.url }}" class="card-img-top" alt="post image" />
      {% endif %}
      <div class="card-body card-text">
        <h5 class="card-title">{{ post.title }}</h5>
        <p class="post-author">By: {{ post.author }}</p>
        <small>{{ post.created_on }}</small>
        <hr />
        <p>{{ post.content }}</p>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <hr />
      </div>
    </div>
    <div class="row">
      <div class="card col-lg-8 mt-5 mb-3 mx-auto">
        <h4>Comments:</h4>
        <div class="card-body">
          <!-- We want a for loop inside the empty control tags to iterate through each comment in comments -->
          {% for comment in comments %}
          <div class="comments" style="padding: 10px">
            <p class="font-weight-bold">
              <!-- The commenter's name goes here. Check the model if you're not sure what that is -->
              {{ comment.name }}
              <span class="text-muted font-weight-normal">
                <!-- The comment's created date goes here -->
                {{ comment.created_on }}
              </span>
              wrote:
            </p>
            <!-- The body of the comment goes before the | -->
            {{ comment.body | linebreaks }}
          </div>
          <!-- Our for loop ends here -->
          {% endfor %}
        </div>
      </div>
      <div class="card col-lg-8 mt-5 mb-3 mx-auto">
        <div class="card-body">
          {% if user.is_authenticated %}
          <h4>Leave a comment:</h4>
          <p>Posting as: {{ user.username }}</p>
          {%include 'blog/includes/add_comment.html' %} {% endif %}
        </div>
      </div>
    </div>
  </div>

  {% endblock %}
</div>
